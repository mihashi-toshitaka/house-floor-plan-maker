# 住宅平面図Webエディタ 作業計画

## 1. 目的・ゴール整理
- 想定ユーザーと利用シーンの明確化（個人利用／不動産／設計補助など）
- 主要ユースケースの特定（部屋配置、家具配置、寸法確認、書き出し）
- 成果物の定義（WebエディタMVP、拡張ロードマップ）

## 2. 要件定義
### 2.1 必須機能（MVP）
- パーツパレット（壁・ドア・窓・部屋ラベル）
- キャンバス上へのドラッグ&ドロップ配置
- 移動・リサイズ・回転
- グリッド表示とスナップ
- プロパティ編集（サイズ・角度・線幅・色・ラベル）
- Undo/Redo
- 保存/読み込み（JSON）

### 2.2 追加機能（将来拡張）
- レイヤー管理、グループ化、複数選択
- 寸法表示、面積自動計算
- ガイドライン・整列支援
- エクスポート（PNG/PDF/SVG）
- 共有リンク、テンプレート機能

## 3. 技術選定とアーキテクチャ
### 3.1 フロントエンド
- フレームワーク: React（決定）
- 描画エンジン: Canvasベース（決定）
  - ライブラリ候補: Konva / Fabric.js / Paper.js

### 3.2 状態管理
- 図形オブジェクトの一元管理
- 編集履歴（Undo/Redo）
- JSONシリアライズ

### 3.3 データモデル
- 図形エンティティ（タイプ、位置、サイズ、回転、スタイル）
- プロジェクト情報（キャンバス設定、グリッド設定）
- 互換性を考慮したバージョニング

## 4. 開発フェーズ計画
### フェーズ1: プロトタイプ（2〜3週間）
- キャンバスと基本図形の描画
- ドラッグ&ドロップ配置
- 移動・リサイズ・回転
- 簡易プロパティパネル

### フェーズ2: MVP完成（3〜5週間）
- パーツパレット拡充
- グリッド・スナップ
- Undo/Redo
- JSON保存/読み込み

### フェーズ3: 拡張機能（5〜8週間）
- 複数選択/グループ化/レイヤー
- 寸法表示と面積計算
- エクスポート機能

### フェーズ4: 品質向上（継続）
- パフォーマンス最適化
- UX改善
- テスト強化・E2E導入

## 5. UI/UX設計
- 左: パーツパレット
- 中央: キャンバス
- 右: プロパティパネル
- 上部: ツールバー（保存/読み込み/エクスポート/整列）

## 6. テスト計画
- ユニットテスト（図形操作、状態管理）
- E2Eテスト（ドラッグ&ドロップ、保存/読み込み）
- 主要ブラウザでの動作確認

## 7. リリース計画
- ベータ版公開 → フィードバック収集
- 本番リリース
- 機能拡張ロードマップ更新
